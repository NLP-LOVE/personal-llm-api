{
    "type": "page",
    "body": [
        {
            "label": "新增模型供应商",
            "type": "button",
            "actionType": "dialog",
            "level": "primary",
            "className": "m-b-sm",
            "icon": "fa fa-plus",
            "dialog": {
                "title": "新增模型供应商",
                "body": {
                    "type": "form",
                    "api": "post:/backend/api-manage/provider/create",
                    "body": [
                        {
                            "type": "input-text",
                            "name": "provider_name",
                            "label": "供应商名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "provider_english_name",
                            "label": "供应商英文名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "api_key",
                            "label": "api-key",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "base_url",
                            "label": "base-url",
                            "required": true
                        }
                    ]
                }
            }
        },
        {
            "type": "crud",
            "name": "provider-crud",
            "api": "/backend/api-manage/provider/list",
            "syncLocation": false,
            "columns": [
                {
                    "name": "row_id",
                    "label": "ID"
                },
                {
                    "name": "provider_name",
                    "label": "供应商名称"
                },
                {
                    "name": "provider_english_name",
                    "label": "供应商英文名称"
                },
                {
                    "name": "base_url",
                    "label": "base-url"
                },
                {
                    "name": "create_time",
                    "label": "创建时间"
                },
                {
                    "type": "operation",
                    "label": "操作",
                    "buttons": [
                        {
                            "label": "修改",
                            "type": "button",
                            "level": "light",
                            "actionType": "dialog",
                            "className": "m-b-sm text-md",
                            "dialog": {
                                "title": "修改模型供应商",
                                "body": {
                                    "type": "form",
                                    "api": "post:/backend/api-manage/provider/update",
                                    "body": [
                                        {
                                            "type": "input-text",
                                            "name": "id",
                                            "label": "ID",
                                            "value": "${id}",
                                            "disabled": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "provider_name",
                                            "label": "供应商名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "provider_english_name",
                                            "label": "供应商英文名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "api_key",
                                            "label": "api-key",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "base_url",
                                            "label": "base-url",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        },
                        {
                          "label": "删除",
                          "type": "button",
                          "className": "text-md",
                          "actionType": "ajax",
                          "confirmText": "确认要删除？",
                          "api": "get:/backend/api-manage/provider/delete?id=${id}",
                          "reload": "provider-crud,model-crud"
                        }
                    ]
                }
            ]
        },
        {
            "label": "新增模型接口",
            "type": "button",
            "actionType": "dialog",
            "level": "primary",
            "className": "m-b-sm mt-8",
            "icon": "fa fa-plus",
            "dialog": {
                "title": "新增模型接口",
                "body": {
                    "type": "form",
                    "api": "post:/backend/api-manage/model/create",
                    "body": [
                        {
                          "label": "供应商英文名称",
                          "type": "select",
                          "name": "provider_english_name",
                          "required": true,
                          "source": "/backend/api-manage/provider/select"
                        },
                        {
                            "type": "input-text",
                            "name": "model_name",
                            "label": "模型名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "model_id",
                            "label": "模型ID",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "input_unit_price",
                            "label": "模型输入单价/千token",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "output_unit_price",
                            "label": "模型输出单价/千token",
                            "required": true
                        }
                    ]
                }
            }
        },
        {
            "type": "crud",
            "name": "model-crud",
            "api": "/backend/api-manage/model/list",
            "syncLocation": false,
            "columns": [
                {
                    "name": "status",
                    "type": "switch",
                    "label": "可用状态",
                    "onEvent": {
                      "change": {
                        "weight": 0,
                        "actions": [
                          {
                            "actionType": "confirmDialog",
                            "dialog": {
                              "type": "dialog",
                              "title": "确认修改状态",
                              "body": [
                                {
                                  "type": "tpl",
                                  "tpl": "确定要修改状态吗？",
                                  "wrapperComponent": "",
                                  "inline": false,
                                  "id": "u:1965506c7599"
                                }
                              ],
                              "showCloseButton": true,
                              "showErrorMsg": true,
                              "showLoading": true,
                              "className": "app-popover",
                              "id": "u:d9783223df98",
                              "actions": [
                                {
                                  "type": "button",
                                  "actionType": "cancel",
                                  "label": "取消",
                                  "id": "u:302efee8613b"
                                },
                                {
                                  "type": "button",
                                  "actionType": "confirm",
                                  "label": "确定",
                                  "primary": true,
                                  "id": "u:4a4d63cf35e1"
                                }
                              ]
                            }
                          },
                          {
                            "actionType": "ajax",
                            "outputVar": "responseResult",
                            "options": {},
                            "api": {
                              "method": "get",
                              "url": "/backend/api-manage/model/update-status?id=${id}"
                            }
                          }
                        ]
                      }
                    }
                },
                {
                    "name": "row_id",
                    "label": "ID"
                },
                {
                    "name": "provider_english_name",
                    "label": "供应商英文名称"
                },
                {
                    "name": "model_name",
                    "label": "模型名称",
                    "copyable": true
                },
                {
                    "name": "model_id",
                    "label": "模型ID",
                    "copyable": true
                },
                {
                    "name": "input_unit_price",
                    "label": "模型输入单价/千token"
                },
                {
                    "name": "output_unit_price",
                    "label": "模型输出单价/千token"
                },
                {
                    "name": "create_time",
                    "label": "创建时间"
                },
                {
                    "type": "operation",
                    "label": "操作",
                    "buttons": [
                        {
                            "label": "修改",
                            "type": "button",
                            "level": "light",
                            "actionType": "dialog",
                            "className": "m-b-sm text-md",
                            "dialog": {
                                "title": "修改模型接口",
                                "body": {
                                    "type": "form",
                                    "api": "post:/backend/api-manage/model/update",
                                    "body": [
                                        {
                                            "type": "input-text",
                                            "name": "id",
                                            "label": "ID",
                                            "disabled": true
                                        },
                                        {
                                            "name": "status",
                                            "type": "switch",
                                            "label": "可用状态"
                                        },
                                        {
                                          "label": "供应商英文名称",
                                          "type": "select",
                                          "name": "provider_english_name",
                                          "source": "/backend/api-manage/provider/select"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "model_name",
                                            "label": "模型名称"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "model_id",
                                            "label": "模型ID"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "input_unit_price",
                                            "label": "模型输入单价/千token"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "output_unit_price",
                                            "label": "模型输出单价/千token"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                          "label": "删除",
                          "type": "button",
                          "className": "text-md",
                          "actionType": "ajax",
                          "confirmText": "确认要删除？",
                          "api": "get:/backend/api-manage/model/delete?id=${id}",
                          "reload": "model-crud"
                        }
                    ]
                }
            ]
        }
    ]
}