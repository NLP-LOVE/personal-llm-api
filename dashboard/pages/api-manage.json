{
    "type": "page",
    "body": [
        {
            "label": "新增模型提供商",
            "type": "button",
            "actionType": "dialog",
            "level": "primary",
            "className": "m-b-sm",
            "icon": "fa fa-plus",
            "dialog": {
                "title": {
                    "type": "flex",
                    "items": [
                        {
                            "type": "icon",
                            "className": "text-3xl",
                            "icon": "<svg t=\"1766206823085\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"135884\" width=\"200\" height=\"200\"><path d=\"M488.96 506.88h40.96v307.2h-40.96zM803.84 737.28h-97.28c-45.056 0-81.92-36.864-81.92-81.92V502.272h40.96V655.36c0 22.528 18.432 40.96 40.96 40.96h97.28v40.96zM312.32 737.28H215.04v-40.96h97.28c22.528 0 40.96-18.432 40.96-40.96V502.272h40.96V655.36c0 45.056-36.864 81.92-81.92 81.92z\" fill=\"#333333\" p-id=\"135885\"></path><path d=\"M509.44 942.08c-46.592 0-84.48-37.888-84.48-84.48S462.848 773.12 509.44 773.12s84.48 37.888 84.48 84.48-37.888 84.48-84.48 84.48z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52zM171.52 798.72c-46.592 0-84.48-37.888-84.48-84.48S124.928 629.76 171.52 629.76 256 667.648 256 714.24 218.112 798.72 171.52 798.72z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52zM847.36 798.72c-46.592 0-84.48-37.888-84.48-84.48s37.888-84.48 84.48-84.48 84.48 37.888 84.48 84.48-37.888 84.48-84.48 84.48z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52z\" fill=\"#EB4446\" p-id=\"135886\"></path><path d=\"M683.52 543.232H319.488c-90.112 0-163.328-73.216-163.328-163.328 0-90.112 73.216-163.328 163.328-163.328h7.68C344.064 138.752 413.696 81.92 495.616 81.92c69.632 0 132.608 42.496 159.232 105.472 9.728-1.536 19.456-2.56 29.184-2.56 98.816 0 179.2 80.384 179.2 179.2-0.512 98.816-80.896 179.2-179.712 179.2zM319.488 258.048c-67.584 0-122.368 54.784-122.368 122.368s54.784 122.368 122.368 122.368h364.544c76.288 0 138.24-61.952 138.24-138.24s-61.952-138.24-138.24-138.24c-12.288 0-24.576 1.536-36.864 5.12l-19.456 5.12-5.632-18.944C605.696 161.792 553.472 122.88 495.616 122.88c-68.096 0-124.416 51.2-131.584 118.784l-2.048 22.016-21.504-3.584c-7.168-1.536-14.336-2.048-20.992-2.048z\" fill=\"#333333\" p-id=\"135887\"></path><path d=\"M655.36 640H307.2V424.96c0-33.792 27.648-61.44 61.44-61.44h348.16v215.04c0 33.792-27.648 61.44-61.44 61.44z\" fill=\"#333333\" opacity=\".18\" p-id=\"135888\"></path></svg>"
                        },
                        {
                            "type": "html",
                            "html": "<h3 class=\"text-primary font-bold\">&nbsp;&nbsp;新增模型提供商</h3>"
                        }
                    ]
                },
                "size": "md",
                "body": {
                    "type": "form",
                    "api": "post:/backend/api-manage/provider/create",
                    "body": [
                        {
                            "type": "input-text",
                            "name": "provider_name",
                            "label": "提供商名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "provider_english_name",
                            "label": "提供商英文名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "api_key",
                            "label": "api-key",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "base_url",
                            "label": "base-url",
                            "description": "${base_url}/chat/completions 或 v1/chat/completions",
                            "required": true
                        }
                    ]
                }
            }
        },
        {
            "type": "crud",
            "name": "provider-crud",
            "api": "/backend/api-manage/provider/list",
            "syncLocation": false,
            "columns": [
                {
                    "name": "row_id",
                    "label": "ID"
                },
                {
                    "name": "provider_name",
                    "label": "提供商名称"
                },
                {
                    "name": "provider_english_name",
                    "label": "提供商英文名称"
                },
                {
                    "name": "base_url",
                    "label": "base-url"
                },
                {
                    "name": "create_time",
                    "label": "创建时间"
                },
                {
                    "type": "operation",
                    "label": "操作",
                    "buttons": [
                        {
                            "label": "修改",
                            "type": "button",
                            "level": "light",
                            "actionType": "dialog",
                            "className": "m-b-sm text-md",
                            "dialog": {
                                "title": {
                                    "type": "flex",
                                    "items": [
                                        {
                                            "type": "icon",
                                            "className": "text-3xl",
                                            "icon": "<svg t=\"1766206823085\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"135884\" width=\"200\" height=\"200\"><path d=\"M488.96 506.88h40.96v307.2h-40.96zM803.84 737.28h-97.28c-45.056 0-81.92-36.864-81.92-81.92V502.272h40.96V655.36c0 22.528 18.432 40.96 40.96 40.96h97.28v40.96zM312.32 737.28H215.04v-40.96h97.28c22.528 0 40.96-18.432 40.96-40.96V502.272h40.96V655.36c0 45.056-36.864 81.92-81.92 81.92z\" fill=\"#333333\" p-id=\"135885\"></path><path d=\"M509.44 942.08c-46.592 0-84.48-37.888-84.48-84.48S462.848 773.12 509.44 773.12s84.48 37.888 84.48 84.48-37.888 84.48-84.48 84.48z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52zM171.52 798.72c-46.592 0-84.48-37.888-84.48-84.48S124.928 629.76 171.52 629.76 256 667.648 256 714.24 218.112 798.72 171.52 798.72z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52zM847.36 798.72c-46.592 0-84.48-37.888-84.48-84.48s37.888-84.48 84.48-84.48 84.48 37.888 84.48 84.48-37.888 84.48-84.48 84.48z m0-128c-24.064 0-43.52 19.456-43.52 43.52s19.456 43.52 43.52 43.52 43.52-19.456 43.52-43.52-19.456-43.52-43.52-43.52z\" fill=\"#EB4446\" p-id=\"135886\"></path><path d=\"M683.52 543.232H319.488c-90.112 0-163.328-73.216-163.328-163.328 0-90.112 73.216-163.328 163.328-163.328h7.68C344.064 138.752 413.696 81.92 495.616 81.92c69.632 0 132.608 42.496 159.232 105.472 9.728-1.536 19.456-2.56 29.184-2.56 98.816 0 179.2 80.384 179.2 179.2-0.512 98.816-80.896 179.2-179.712 179.2zM319.488 258.048c-67.584 0-122.368 54.784-122.368 122.368s54.784 122.368 122.368 122.368h364.544c76.288 0 138.24-61.952 138.24-138.24s-61.952-138.24-138.24-138.24c-12.288 0-24.576 1.536-36.864 5.12l-19.456 5.12-5.632-18.944C605.696 161.792 553.472 122.88 495.616 122.88c-68.096 0-124.416 51.2-131.584 118.784l-2.048 22.016-21.504-3.584c-7.168-1.536-14.336-2.048-20.992-2.048z\" fill=\"#333333\" p-id=\"135887\"></path><path d=\"M655.36 640H307.2V424.96c0-33.792 27.648-61.44 61.44-61.44h348.16v215.04c0 33.792-27.648 61.44-61.44 61.44z\" fill=\"#333333\" opacity=\".18\" p-id=\"135888\"></path></svg>"
                                        },
                                        {
                                            "type": "html",
                                            "html": "<h3 class=\"text-primary font-bold\">&nbsp;&nbsp;修改模型提供商</h3>"
                                        }
                                    ]
                                },
                                "size": "md",
                                "body": {
                                    "type": "form",
                                    "api": "post:/backend/api-manage/provider/update",
                                    "body": [
                                        {
                                            "type": "input-text",
                                            "name": "id",
                                            "label": "ID",
                                            "value": "${id}",
                                            "disabled": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "provider_name",
                                            "label": "提供商名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "provider_english_name",
                                            "label": "提供商英文名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "api_key",
                                            "label": "api-key",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "base_url",
                                            "label": "base-url",
                                            "description": "${base_url}/chat/completions",
                                            "required": true
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "label": "删除",
                            "type": "button",
                            "className": "text-md",
                            "actionType": "ajax",
                            "confirmText": "确认要删除？",
                            "api": "get:/backend/api-manage/provider/delete?id=${id}",
                            "reload": "provider-crud,model-crud"
                        }
                    ]
                }
            ]
        },
        {
            "label": "新增模型接口",
            "type": "button",
            "actionType": "dialog",
            "level": "primary",
            "className": "m-b-sm mt-8",
            "icon": "fa fa-plus",
            "dialog": {
                "title": {
                    "type": "flex",
                    "items": [
                        {
                            "type": "icon",
                            "className": "text-2xl",
                            "icon": "<svg t=\"1766206253475\" class=\"icon\" viewBox=\"0 0 1038 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"52229\" width=\"200\" height=\"200\"><path d=\"M754.319336 127.119144L542.547954 6.245886a47.458497 47.458497 0 0 0-47.023332 0l-211.873773 120.873258a47.407301 47.407301 0 0 0-23.934032 41.187013v240.978579a47.407301 47.407301 0 0 1-23.626856 41.110219L23.525044 573.418436a47.53529 47.53529 0 0 0-23.678052 41.161415v241.004177a47.381703 47.381703 0 0 0 23.908433 41.161415l211.79698 120.975649a47.714475 47.714475 0 0 0 47.04893 0l212.820896-121.257226a47.381703 47.381703 0 0 1 47.100126 0l212.820895 121.257226a47.714475 47.714475 0 0 0 47.023332 0l211.79698-120.975649a47.356105 47.356105 0 0 0 24.010825-41.161415v-241.004177a47.53529 47.53529 0 0 0-23.70365-41.084621l-212.539319-123.100275a47.381703 47.381703 0 0 1-23.70365-41.110219V168.229363a47.407301 47.407301 0 0 0-23.908434-41.161414v0.051195z m-184.535222 161.932282v251.960076l216.942157 125.276096a17.662547 17.662547 0 0 1 6.425071 24.292402l-28.874425 50.095079a17.790537 17.790537 0 0 1-24.292402 6.501866l-217.223733-125.506477-217.198135 125.429683a17.688145 17.688145 0 0 1-24.292402-6.501865l-28.900023-50.09508a17.764939 17.764939 0 0 1 6.450669-24.292402l217.658898-125.634466v-251.601706c0-9.880787 7.884152-17.841733 17.688145-17.841733h57.851241c9.803994 0 17.790537 8.037739 17.790537 17.841733v0.076794z\" fill=\"#4384F4\" p-id=\"52230\"></path><path d=\"M518.921098 0c8.242522 0 16.382653 2.150223 23.524465 6.220288l211.771382 120.924454v-0.076793a47.432899 47.432899 0 0 1 23.934031 41.161414v241.055373a47.381703 47.381703 0 0 0 23.70365 41.110219l212.513721 123.074677a47.612084 47.612084 0 0 1 23.703651 41.110219v241.004177a47.458497 47.458497 0 0 1-23.95963 41.161415l-74.899439 42.748484c-99.319831-80.710162-193.417691-159.321296-283.65027-241.055374l84.345063 48.738392a17.841733 17.841733 0 0 0 24.266804-6.501866l28.900023-50.095079a17.662547 17.662547 0 0 0-6.399474-24.292402l-216.967754-125.276096v-252.03687a17.86733 17.86733 0 0 0-17.764939-17.841733h-57.851242a17.739341 17.739341 0 0 0-17.688145 17.841733v236.806123a3192.722999 3192.722999 0 0 1-216.788569-247.403652v-110.070946a47.432899 47.432899 0 0 1 23.934031-41.161415L495.396633 6.220288c7.16741-4.095663 15.281943-6.220288 23.550063-6.220288z\" fill=\"#F86D3A\" p-id=\"52231\"></path></svg>"
                        },
                        {
                            "type": "html",
                            "html": "<h3 class=\"text-primary font-bold\">&nbsp;&nbsp;新增模型接口</h3>"
                        }
                    ]
                },
                "body": {
                    "type": "form",
                    "api": "post:/backend/api-manage/model/create",
                    "body": [
                        {
                            "label": "提供商英文名称",
                            "type": "select",
                            "name": "provider_english_name",
                            "required": true,
                            "source": "/backend/api-manage/provider/select"
                        },
                        {
                            "type": "input-text",
                            "name": "model_name",
                            "label": "模型名称",
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "model_id",
                            "label": "模型ID",
                            "required": true
                        },
                        {
                            "type": "radios",
                            "name": "billing_unit",
                            "label": "计费单位",
                            "selectFirst": true,
                            "options": [
                                {
                                    "label": "千 Token",
                                    "value": "per_thousand_tokens"
                                },
                                {
                                    "label": "百万 Token",
                                    "value": "per_million_tokens"
                                },
                                {
                                    "label": "单张图片",
                                    "value": "per_image"
                                }
                            ],
                            "required": true
                        },
                        {
                            "type": "input-text",
                            "name": "input_unit_price",
                            "label": "模型输入单价",
                            "required": true,
                            "prefix": "￥",
                            "suffix": "RMB"
                        },
                        {
                            "type": "input-text",
                            "name": "output_unit_price",
                            "label": "模型输出单价",
                            "required": true,
                            "prefix": "￥",
                            "suffix": "RMB"
                        },
                        {
                            "type": "textarea",
                            "name": "default_params",
                            "labelRemark": {
                                "type": "remark",
                                "title": "提示",
                                "content": "默认：空，格式为JSON字符串，例如：模型默认使用深度思考参数"
                            },
                            "label": "模型默认参数",
                            "placeholder": "{\n    \"thinking\": {\n        \"type\":\"enabled\"\n    }\n}"
                        }
                    ]
                }
            }
        },
        {
            "type": "crud",
            "name": "model-crud",
            "api": "/backend/api-manage/model/list",
            "syncLocation": false,
            "columns": [
                {
                    "name": "status",
                    "type": "switch",
                    "label": "可用状态",
                    "onEvent": {
                        "change": {
                            "weight": 0,
                            "actions": [
                                {
                                    "actionType": "confirmDialog",
                                    "dialog": {
                                        "type": "dialog",
                                        "title": "确认修改状态",
                                        "body": [
                                            {
                                                "type": "tpl",
                                                "tpl": "确定要修改状态吗？",
                                                "wrapperComponent": "",
                                                "inline": false,
                                                "id": "u:1965506c7599"
                                            }
                                        ],
                                        "showCloseButton": true,
                                        "showErrorMsg": true,
                                        "showLoading": true,
                                        "className": "app-popover",
                                        "id": "u:d9783223df98",
                                        "actions": [
                                            {
                                                "type": "button",
                                                "actionType": "cancel",
                                                "label": "取消",
                                                "id": "u:302efee8613b"
                                            },
                                            {
                                                "type": "button",
                                                "actionType": "confirm",
                                                "label": "确定",
                                                "primary": true,
                                                "id": "u:4a4d63cf35e1"
                                            }
                                        ]
                                    }
                                },
                                {
                                    "actionType": "ajax",
                                    "outputVar": "responseResult",
                                    "options": {},
                                    "api": {
                                        "method": "get",
                                        "url": "/backend/api-manage/model/update-status?id=${id}"
                                    }
                                }
                            ]
                        }
                    }
                },
                {
                    "name": "row_id",
                    "label": "ID"
                },
                {
                    "name": "provider_english_name",
                    "label": "提供商英文名称"
                },
                {
                    "name": "model_name",
                    "label": "模型名称",
                    "copyable": true
                },
                {
                    "name": "model_id",
                    "label": "模型ID",
                    "copyable": true
                },
                {
                    "name": "input_unit_price_thousand",
                    "label": "模型输入单价/千token",
                    "remark": "如果是视觉模型，单价为每张图片的单价"
                },
                {
                    "name": "output_unit_price_thousand",
                    "label": "模型输出单价/千token",
                    "remark": "如果是视觉模型，单价为每张图片的单价"
                },
                {
                    "name": "create_time",
                    "label": "创建时间"
                },
                {
                    "type": "operation",
                    "label": "操作",
                    "buttons": [
                        {
                            "label": "修改",
                            "type": "button",
                            "level": "light",
                            "actionType": "dialog",
                            "className": "m-b-sm text-md",
                            "dialog": {
                                "title": {
                                    "type": "flex",
                                    "items": [
                                        {
                                            "type": "icon",
                                            "className": "text-2xl",
                                            "icon": "<svg t=\"1766206253475\" class=\"icon\" viewBox=\"0 0 1038 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"52229\" width=\"200\" height=\"200\"><path d=\"M754.319336 127.119144L542.547954 6.245886a47.458497 47.458497 0 0 0-47.023332 0l-211.873773 120.873258a47.407301 47.407301 0 0 0-23.934032 41.187013v240.978579a47.407301 47.407301 0 0 1-23.626856 41.110219L23.525044 573.418436a47.53529 47.53529 0 0 0-23.678052 41.161415v241.004177a47.381703 47.381703 0 0 0 23.908433 41.161415l211.79698 120.975649a47.714475 47.714475 0 0 0 47.04893 0l212.820896-121.257226a47.381703 47.381703 0 0 1 47.100126 0l212.820895 121.257226a47.714475 47.714475 0 0 0 47.023332 0l211.79698-120.975649a47.356105 47.356105 0 0 0 24.010825-41.161415v-241.004177a47.53529 47.53529 0 0 0-23.70365-41.084621l-212.539319-123.100275a47.381703 47.381703 0 0 1-23.70365-41.110219V168.229363a47.407301 47.407301 0 0 0-23.908434-41.161414v0.051195z m-184.535222 161.932282v251.960076l216.942157 125.276096a17.662547 17.662547 0 0 1 6.425071 24.292402l-28.874425 50.095079a17.790537 17.790537 0 0 1-24.292402 6.501866l-217.223733-125.506477-217.198135 125.429683a17.688145 17.688145 0 0 1-24.292402-6.501865l-28.900023-50.09508a17.764939 17.764939 0 0 1 6.450669-24.292402l217.658898-125.634466v-251.601706c0-9.880787 7.884152-17.841733 17.688145-17.841733h57.851241c9.803994 0 17.790537 8.037739 17.790537 17.841733v0.076794z\" fill=\"#4384F4\" p-id=\"52230\"></path><path d=\"M518.921098 0c8.242522 0 16.382653 2.150223 23.524465 6.220288l211.771382 120.924454v-0.076793a47.432899 47.432899 0 0 1 23.934031 41.161414v241.055373a47.381703 47.381703 0 0 0 23.70365 41.110219l212.513721 123.074677a47.612084 47.612084 0 0 1 23.703651 41.110219v241.004177a47.458497 47.458497 0 0 1-23.95963 41.161415l-74.899439 42.748484c-99.319831-80.710162-193.417691-159.321296-283.65027-241.055374l84.345063 48.738392a17.841733 17.841733 0 0 0 24.266804-6.501866l28.900023-50.095079a17.662547 17.662547 0 0 0-6.399474-24.292402l-216.967754-125.276096v-252.03687a17.86733 17.86733 0 0 0-17.764939-17.841733h-57.851242a17.739341 17.739341 0 0 0-17.688145 17.841733v236.806123a3192.722999 3192.722999 0 0 1-216.788569-247.403652v-110.070946a47.432899 47.432899 0 0 1 23.934031-41.161415L495.396633 6.220288c7.16741-4.095663 15.281943-6.220288 23.550063-6.220288z\" fill=\"#F86D3A\" p-id=\"52231\"></path></svg>"
                                        },
                                        {
                                            "type": "html",
                                            "html": "<h3 class=\"text-primary font-bold\">&nbsp;&nbsp;修改模型接口</h3>"
                                        }
                                    ]
                                },
                                "body": {
                                    "type": "form",
                                    "api": "post:/backend/api-manage/model/update",
                                    "body": [
                                        {
                                            "type": "input-text",
                                            "name": "id",
                                            "label": "ID",
                                            "disabled": true
                                        },
                                        {
                                            "name": "status",
                                            "type": "switch",
                                            "label": "可用状态"
                                        },
                                        {
                                            "label": "提供商英文名称",
                                            "type": "select",
                                            "name": "provider_english_name",
                                            "source": "/backend/api-manage/provider/select",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "model_name",
                                            "label": "模型名称",
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "model_id",
                                            "label": "模型ID",
                                            "required": true
                                        },
                                        {
                                            "type": "radios",
                                            "name": "billing_unit",
                                            "label": "计费单位",
                                            "selectFirst": true,
                                            "options": [
                                                {
                                                    "label": "千 Token",
                                                    "value": "per_thousand_tokens"
                                                },
                                                {
                                                    "label": "百万 Token",
                                                    "value": "per_million_tokens"
                                                },
                                                {
                                                    "label": "单张图片",
                                                    "value": "per_image"
                                                }
                                            ],
                                            "required": true
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "input_unit_price",
                                            "label": "模型输入单价",
                                            "prefix": "￥",
                                            "suffix": "RMB",
                                            "required": true,
                                            "value": "${IF(billing_unit == 'per_thousand_tokens', input_unit_price_thousand, input_unit_price_million)}"
                                        },
                                        {
                                            "type": "input-text",
                                            "name": "output_unit_price",
                                            "label": "模型输出单价",
                                            "prefix": "￥",
                                            "suffix": "RMB",
                                            "required": true,
                                            "value": "${IF(billing_unit == 'per_thousand_tokens', output_unit_price_thousand, output_unit_price_million)}"
                                        },
                                        {
                                            "type": "textarea",
                                            "name": "default_params",
                                            "labelRemark": {
                                                "type": "remark",
                                                "title": "提示",
                                                "content": "默认：空，格式为JSON字符串，例如：模型默认使用深度思考参数"
                                            },
                                            "label": "模型默认参数",
                                            "placeholder": "{\n    \"thinking\": {\n        \"type\":\"enabled\"\n    }\n}"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "label": "删除",
                            "type": "button",
                            "className": "text-md",
                            "actionType": "ajax",
                            "confirmText": "确认要删除？",
                            "api": "get:/backend/api-manage/model/delete?id=${id}",
                            "reload": "model-crud"
                        }
                    ]
                }
            ]
        }
    ]
}