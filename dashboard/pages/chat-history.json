{
    "type": "page",
    "body": {
        "type": "crud",
        "api": "/backend/chat/chat-history",
        "columns": [
            {
                "name": "id",
                "label": "ID"
            },
            {
                "name": "model_name",
                "label": "模型"
            },
            {
                "name": "prompt",
                "label": "prompt",
                "textOverflow": "ellipsis"
            },
            {
                "name": "prompt_tokens",
                "label": "输入/输出 token"
            },
            {
                "name": "total_price",
                "label": "总费用"
            },
            {
                "name": "create_time",
                "label": "时间"
            },
            {
                "name": "duration",
                "label": "耗时"
            },
            {
                "type": "operation",
                "label": "操作",
                "buttons": [
                    {
                        "label": "查看对话",
                        "type": "button",
                        "level": "light",
                        "actionType": "dialog",
                        "dialog": {
                            "size": "xl",
                            "title": {
                              "type": "flex",
                              "items": [
                                {
                                  "type": "icon",
                                  "className": "text-2xl",
                                  "icon": "<svg t=\"1766207071215\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"149828\" width=\"200\" height=\"200\"><path d=\"M883.2 25.6a51.2 51.2 0 0 1 51.2 51.2l0.0128 476.992A305.9072 305.9072 0 0 0 742.4 486.4c-169.664 0-307.2 137.536-307.2 307.2a306.048 306.048 0 0 0 78.2336 204.8128L140.8 998.4a51.2 51.2 0 0 1-51.2-51.2V76.8a51.2 51.2 0 0 1 51.2-51.2h742.4zM448 371.2H281.6a38.4 38.4 0 0 0-2.2528 76.736L281.6 448h166.4a38.4 38.4 0 0 0 2.2528-76.736L448 371.2z m230.4-179.2H281.6a38.4 38.4 0 0 0-2.2528 76.736L281.6 268.8h396.8a38.4 38.4 0 0 0 2.2528-76.736L678.4 192z\" fill=\"#6B57FE\" p-id=\"149829\"></path><path d=\"M742.4 563.2c127.2448 0 230.4 103.1552 230.4 230.4s-103.1552 230.4-230.4 230.4-230.4-103.1552-230.4-230.4 103.1552-230.4 230.4-230.4z m0 96a32 32 0 0 0-31.936 29.9008L710.4 691.2v102.4l0.064 2.0992a32 32 0 0 0 29.824 29.824L742.4 825.6h89.6l2.0992-0.064a32 32 0 0 0 29.824-29.824L864 793.6l-0.064-2.0992a32 32 0 0 0-29.824-29.824L832 761.6h-57.6V691.2l-0.064-2.0992A32 32 0 0 0 742.4 659.2z\" fill=\"#FFBA00\" p-id=\"149830\"></path></svg>"
                                },
                                {
                                    "type": "html",
                                    "html": "<h3 class=\"text-primary font-bold\">&nbsp;&nbsp;对话记录</h3>"
                                }
                              ]
                            },
                            "body": [
                                {
                                    "type": "each",
                                    "name": "context",
                                    "items": [
                                        {
                                            "type": "flex",
                                            "justify": "flex-start",
                                            "items": [
                                                {
                                                    "type": "avatar",
                                                    "src": "/static/images/user.png",
                                                    "className": {
                                                        "block": "${role == 'user'}",
                                                        "hidden": "${role != 'user'}"
                                                    },
                                                    "style": {
                                                        "background": "#DB3E35",
                                                        "color": "#FFFFFF",
                                                        "margin-bottom": "10px"
                                                    }
                                                },
                                                {
                                                    "type": "avatar",
                                                    "src": "/static/images/Chatgpt.png",
                                                    "className": {
                                                        "block": "${role != 'user'}",
                                                        "hidden": "${role == 'user'}"
                                                    }
                                                },
                                                {
                                                    "type": "tpl",
                                                    "className": {
                                                        "font-extrabold": "${true}",
                                                        "mt-2": "${true}",
                                                        "ml-2": "${true}",
                                                        "text-lg": "${true}"
                                                    },
                                                    "text": "${role}"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "markdown",
                                            "name": "content"
                                        },
                                        {
                                            "type": "divider",
                                            "className": {
                                                "mt-10": "${true}",
                                                "mb-10": "${true}"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                ]
            }
        ]
    }
}