{
    "type": "page",
    "body": [
        {
            "type": "form",
            "title": "LLM 使用量",
            "target": "chart_request,chart_token,chart_money",
            "mode": "inline",
            "body": [
                {
                  "type": "service",
                  "api": "get:/backend/llm-usage/total-usage",
                  "body": [
                    {
                      "type": "flex",
                      "justify": "flex-start",
                      "className": "mb-10",
                      "items": [
                        {
                          "type": "card",
                          "source": "$items",
                          "body": [
                            {
                              "type": "flex",
                              "justify": "flex-start",
                              "items": [
                                {
                                  "type": "icon",
                                  "className": "text-4xl",
                                  "icon": "<svg t=\"1766155487889\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1738\" width=\"200\" height=\"200\"><path d=\"M61.44 163.84h901.12v675.84H61.44z\" fill=\"#FFFFFF\" p-id=\"1739\"></path><path d=\"M983.04 880.64H40.96c-12.288 0-20.48-8.192-20.48-20.48V143.36c0-12.288 8.192-20.48 20.48-20.48h942.08c12.288 0 20.48 8.192 20.48 20.48v716.8c0 12.288-8.192 20.48-20.48 20.48zM61.44 839.68h901.12V163.84H61.44v675.84z\" fill=\"#13173C\" p-id=\"1740\"></path><path d=\"M178.176 643.072c2.048-14.336 2.048-24.576 2.048-43.008v-151.552c0-20.48 0-32.768-2.048-43.008h59.392c-2.048 12.288-2.048 22.528-2.048 43.008v40.96c16.384-16.384 34.816-24.576 59.392-24.576 20.48 0 34.816 6.144 45.056 16.384 12.288 12.288 16.384 24.576 16.384 49.152v71.68c0 16.384 0 30.72 2.048 43.008h-59.392c2.048-14.336 2.048-26.624 2.048-43.008v-59.392c0-12.288-2.048-16.384-4.096-22.528-4.096-6.144-10.24-8.192-18.432-8.192-16.384 0-32.768 10.24-43.008 30.72v57.344c0 16.384 0 28.672 2.048 43.008H178.176zM411.648 462.848c0-14.336 0-26.624-2.048-38.912h59.392c-2.048 12.288-2.048 24.576-2.048 38.912v6.144h10.24c12.288 0 18.432 0 28.672-2.048v47.104c-8.192-2.048-16.384-2.048-26.624-2.048h-12.288v73.728c0 8.192 2.048 12.288 6.144 14.336 4.096 2.048 8.192 4.096 12.288 4.096 8.192 0 12.288-2.048 20.48-6.144l4.096 43.008c-12.288 4.096-24.576 6.144-38.912 6.144-20.48 0-32.768-4.096-43.008-10.24-10.24-8.192-14.336-18.432-14.336-36.864V512h-10.24c-8.192 0-16.384 0-24.576 2.048v-47.104c8.192 2.048 16.384 2.048 24.576 2.048h10.24v-6.144zM548.864 462.848c0-14.336 0-26.624-2.048-38.912h59.392c-2.048 12.288-2.048 24.576-2.048 38.912v6.144h10.24c12.288 0 18.432 0 28.672-2.048v47.104c-8.192-2.048-16.384-2.048-26.624-2.048h-12.288v73.728c0 8.192 2.048 12.288 6.144 14.336 4.096 2.048 8.192 4.096 12.288 4.096 8.192 0 12.288-2.048 20.48-6.144l4.096 43.008c-12.288 4.096-24.576 6.144-38.912 6.144-20.48 0-32.768-4.096-43.008-10.24-10.24-8.192-14.336-18.432-14.336-36.864V512h-10.24c-8.192 0-16.384 0-24.576 2.048v-47.104c8.192 2.048 16.384 2.048 24.576 2.048h10.24v-6.144zM663.552 696.32c2.048-12.288 2.048-26.624 2.048-40.96v-139.264c0-18.432 0-30.72-2.048-45.056h57.344v16.384c16.384-14.336 34.816-20.48 59.392-20.48s45.056 8.192 61.44 22.528c14.336 14.336 22.528 36.864 22.528 67.584 0 28.672-8.192 53.248-24.576 69.632-14.336 14.336-34.816 22.528-59.392 22.528-14.336 0-28.672-2.048-38.912-8.192-8.192-4.096-12.288-6.144-20.48-12.288v30.72c0 16.384 0 28.672 2.048 40.96h-59.392z m131.072-106.496c8.192-8.192 12.288-20.48 12.288-36.864 0-28.672-16.384-47.104-43.008-47.104-24.576 0-43.008 20.48-43.008 47.104 0 26.624 18.432 47.104 45.056 47.104 10.24 2.048 20.48-2.048 28.672-10.24z\" fill=\"#FF633E\" p-id=\"1741\"></path><path d=\"M61.44 163.84h901.12v102.4H61.44z\" fill=\"#3796FF\" p-id=\"1742\"></path><path d=\"M747.52 215.04m-30.72 0a30.72 30.72 0 1 0 61.44 0 30.72 30.72 0 1 0-61.44 0Z\" fill=\"#FFD761\" p-id=\"1743\"></path><path d=\"M870.4 215.04m-30.72 0a30.72 30.72 0 1 0 61.44 0 30.72 30.72 0 1 0-61.44 0Z\" fill=\"#B3D7FF\" p-id=\"1744\"></path></svg>"
                                },
                                {
                                  "type": "number",
                                  "value": "${total_request}",
                                  "className": "text-2xl mx-4 my-3 text-green-400",
                                  "kilobitSeparator": true
                                }
                              ]
                            },
                            {
                              "type": "html",
                              "html": "<h3 class=\"font-bold\">接口请求数</h3>"
                            }
                          ]
                        },
                        {
                          "type": "card",
                          "source": "$items",
                          "body": [
                            {
                              "type": "flex",
                              "justify": "flex-start",
                              "items": [
                                {
                                  "type": "icon",
                                  "className": "text-4xl",
                                  "icon": "<svg t=\"1766158392575\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"10531\" width=\"200\" height=\"200\"><path d=\"M892.631579 118.568421a93.642105 93.642105 0 0 1 93.507368 88.495158l0.134737 5.146947v599.578948a93.642105 93.642105 0 0 1-88.495158 93.507368l-5.146947 0.134737H673.684211v-86.231579h218.947368c3.503158 0 6.467368-2.425263 7.221895-5.712842l0.188631-1.697684V409.6H123.957895v402.189474c0 3.503158 2.425263 6.467368 5.712842 7.221894l1.697684 0.188632H350.315789v86.231579H131.368421a93.642105 93.642105 0 0 1-93.507368-88.495158l-0.134737-5.146947V212.210526a93.642105 93.642105 0 0 1 88.495158-93.507368l5.146947-0.134737h761.263158z m0 86.231579H131.368421c-3.503158 0-6.467368 2.425263-7.221895 5.712842l-0.188631 1.697684V323.368421h776.08421V212.210526c0-3.503158-2.425263-6.467368-5.712842-7.221894l-1.697684-0.188632z\" fill=\"#0B61FF\" p-id=\"10532\"></path><path d=\"M188.631579 288.741053a26.947368 26.947368 0 1 0 0-53.894737 26.947368 26.947368 0 0 0 0 53.894737zM269.473684 288.741053a26.947368 26.947368 0 1 0 0-53.894737 26.947368 26.947368 0 0 0 0 53.894737zM350.315789 288.741053a26.947368 26.947368 0 1 0 0-53.894737 26.947368 26.947368 0 0 0 0 53.894737z\" fill=\"#7FADFF\" p-id=\"10533\"></path><path d=\"M161.684211 591.090526v-36.567579c0-1.670737 1.347368-3.018105 3.045052-3.018105h26.650948c1.670737 0 3.018105-1.347368 3.018105-3.045053v-48.747789c0-1.670737 1.347368-3.018105 3.045052-3.018105h39.289264c1.697684 0 3.045053 1.347368 3.045052 3.018105v48.774737c0 1.643789 1.347368 3.018105 3.045053 3.018105h30.773895c1.670737 0 3.018105 1.347368 3.018105 3.018105v36.567579c0 1.670737-1.347368 3.045053-3.018105 3.045053H242.795789a3.045053 3.045053 0 0 0-3.045052 3.045053v84.183579c0 1.670737 1.347368 3.018105 3.045052 3.018105h30.773895c1.670737 0 3.018105 1.347368 3.018105 3.045052v36.567579c0 1.670737-1.347368 3.018105-3.018105 3.018106H221.130105a6.063158 6.063158 0 0 1-4.311579-1.778527l-20.641684-20.803368a6.063158 6.063158 0 0 1-1.778526-4.284632v-102.965894a3.045053 3.045053 0 0 0-3.018105-3.045053h-26.677895A3.045053 3.045053 0 0 1 161.684211 591.090526z m153.49221-42.361263h82.647579c1.616842 0 3.179789 0.646737 4.311579 1.805474l20.668632 20.776421c1.131789 1.131789 1.751579 2.694737 1.751578 4.284631v122.341053c0 1.616842-0.619789 3.152842-1.751578 4.311579l-20.668632 20.749474a6.063158 6.063158 0 0 1-4.311579 1.805473h-82.647579a6.063158 6.063158 0 0 1-4.311579-1.778526l-20.641684-20.803368a6.063158 6.063158 0 0 1-1.778526-4.284632v-122.341053c0-1.616842 0.646737-3.152842 1.778526-4.284631l20.641684-20.776421a6.063158 6.063158 0 0 1 4.311579-1.805474z m18.647579 42.630737v90.812632h45.352421v-90.812632h-45.352421z m159.663158 3.880421l26.624-41.498947a6.063158 6.063158 0 0 1 5.12-2.802527h34.492631a6.063158 6.063158 0 0 1 5.12 9.350737l-45.271578 70.494316a6.063158 6.063158 0 0 0-0.053895 6.467368l50.014316 81.057685a6.063158 6.063158 0 0 1-5.173895 9.269894h-34.950737a6.063158 6.063158 0 0 1-5.173895-2.883368l-30.72-49.583158a6.063158 6.063158 0 0 0-11.210105 3.233684v43.169684c0 3.341474-2.694737 6.063158-6.063158 6.063158H443.014737a6.063158 6.063158 0 0 1-6.090105-6.063158v-230.4c0-3.341474 2.721684-6.063158 6.090105-6.063157h33.226105c3.341474 0 6.063158 2.694737 6.063158 6.063157v100.837053a6.063158 6.063158 0 0 0 11.183158 3.287579z m111.50821-46.241684h82.647579c1.616842 0 3.179789 0.646737 4.311579 1.805474l20.668632 20.776421c1.131789 1.158737 1.751579 2.694737 1.751579 4.311579v79.171368c0 3.341474-2.694737 6.063158-6.063158 6.063158h-78.605474c-3.341474 0-6.063158 2.721684-6.063158 6.090105v8.623158c0 3.341474 2.694737 6.063158 6.063158 6.063158h78.605474c3.341474 0 6.063158 2.694737 6.063158 6.063158v30.504421c0 3.341474-2.694737 6.063158-6.063158 6.063158H604.968421a6.063158 6.063158 0 0 1-4.311579-1.805474l-20.641684-20.776421a6.063158 6.063158 0 0 1-1.778526-4.284632v-121.802105c0-1.616842 0.646737-3.125895 1.778526-4.284631l20.641684-20.776421a6.063158 6.063158 0 0 1 4.311579-1.805474z m18.647579 42.630737v26.866526h45.379369v-26.866526h-45.379369z m102.561685-19.375158c2.371368-2.398316 4.581053-4.581053 6.602105-6.494316a348.510316 348.510316 0 0 0 11.264-11.344842c1.832421-1.940211 3.961263-4.122947 6.332631-6.521263h87.713685c2.371368 2.425263 4.581053 4.581053 6.602105 6.521263a348.510316 348.510316 0 0 1 11.264 11.317895c1.832421 1.967158 3.961263 4.122947 6.332631 6.521263v146.216421c0 3.341474-2.694737 6.063158-6.063157 6.063158h-33.226106a6.063158 6.063158 0 0 1-6.090105-6.063158V596.614737c0-3.368421-2.694737-6.090105-6.063158-6.090105h-33.226105c-3.341474 0-6.063158 2.721684-6.063158 6.090105v121.856c0 3.341474-2.721684 6.063158-6.090105 6.063158h-33.226106a6.063158 6.063158 0 0 1-6.063157-6.063158v-146.216421z\" fill=\"#FF9F74\" p-id=\"10534\"></path></svg>"
                                },
                                {
                                  "type": "number",
                                  "value": "${total_tokens}",
                                  "className": "text-2xl mx-4 my-3 text-green-400",
                                  "kilobitSeparator": true
                                }
                              ]
                            },
                            {
                              "type": "html",
                              "html": "<h3 class=\"font-bold\">Token 消耗</h3>"
                            }
                          ]
                        },
                        {
                          "type": "card",
                          "source": "$items",
                          "body": [
                            {
                              "type": "flex",
                              "justify": "flex-start",
                              "items": [
                                {
                                  "type": "icon",
                                  "className": "text-4xl",
                                  "icon": "<svg t=\"1766158576579\" class=\"icon\" viewBox=\"0 0 1039 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"30243\" width=\"200\" height=\"200\"><path d=\"M732.806026 944.934087h-462.824858c-84.851224 0-154.274953-69.423729-154.274953-154.274953v-539.962336c0-84.851224 69.423729-154.274953 154.274953-154.274952h462.824858c84.851224 0 154.274953 69.423729 154.274953 154.274952v539.962336c0 84.851224-69.423729 154.274953-154.274953 154.274953z m-462.824858-771.374765c-42.425612 0-77.137476 34.711864-77.137477 77.137476v539.962336c0 42.425612 34.711864 77.137476 77.137477 77.137476h462.824858c42.425612 0 77.137476-34.711864 77.137477-77.137476v-539.962336c0-42.425612-34.711864-77.137476-77.137477-77.137476h-462.824858z\" fill=\"#388CEB\" p-id=\"30244\"></path><path d=\"M501.393597 385.687382c-80.99435 0-160.060264-21.212806-231.412429-61.709981-19.284369-9.642185-25.06968-34.711864-13.499059-52.067796 9.642185-19.284369 34.711864-25.06968 52.067797-13.499059 117.634652 67.495292 266.124294 67.495292 383.758945 1.928437 19.284369-9.642185 42.425612-3.856874 52.067797 15.427495s3.856874 42.425612-15.427495 52.067797c-69.423729 38.568738-148.489642 57.853107-227.555556 57.853107z\" fill=\"#388CEB\" p-id=\"30245\"></path><path d=\"M501.393597 829.227872c-21.212806 0-38.568738-17.355932-38.568738-38.568738v-192.843691c0-21.212806 17.355932-38.568738 38.568738-38.568739s38.568738 17.355932 38.568738 38.568739v192.843691c0 21.212806-17.355932 38.568738-38.568738 38.568738z\" fill=\"#E78E00\" p-id=\"30246\"></path><path d=\"M617.099812 617.099812h-231.41243c-21.212806 0-38.568738-17.355932-38.568738-38.568739s17.355932-38.568738 38.568738-38.568738h231.41243c21.212806 0 38.568738 17.355932 38.568738 38.568738s-17.355932 38.568738-38.568738 38.568739zM617.099812 732.806026h-231.41243c-21.212806 0-38.568738-17.355932-38.568738-38.568738s17.355932-38.568738 38.568738-38.568738h231.41243c21.212806 0 38.568738 17.355932 38.568738 38.568738s-17.355932 38.568738-38.568738 38.568738z\" fill=\"#E78E00\" p-id=\"30247\"></path><path d=\"M499.46516 649.883239c-13.499058 0-26.998117-7.713748-32.783427-19.284369l-77.137477-134.990584c-11.570621-19.284369-3.856874-42.425612 13.499059-52.067796s42.425612-3.856874 52.067796 13.499058l77.137477 134.990584c9.642185 19.284369 3.856874 42.425612-13.499059 52.067796-5.785311 3.856874-11.570621 5.785311-19.284369 5.785311z\" fill=\"#E78E00\" p-id=\"30248\"></path><path d=\"M507.178908 647.954802c-5.785311 0-13.499058-1.928437-19.284369-5.78531-19.284369-9.642185-25.06968-34.711864-13.499059-52.067797l77.137477-134.990584c9.642185-19.284369 34.711864-25.06968 52.067796-13.499058 19.284369 9.642185 25.06968 34.711864 13.499059 52.067796l-77.137477 134.990584c-5.785311 13.499058-19.284369 19.284369-32.783427 19.284369z\" fill=\"#E78E00\" p-id=\"30249\"></path></svg>"
                                },
                                {
                                  "type": "number",
                                  "value": "${total_price}",
                                  "className": "text-2xl mx-4 my-3 text-green-400",
                                  "kilobitSeparator": true
                                }
                              ]
                            },
                            {
                              "type": "html",
                              "html": "<h3 class=\"font-bold\">已消费金额</h3>"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "tpl",
                  "tpl": "前",
                  "className": "text-lg mx-3"
                },
                {
                    "type": "input-text",
                    "name": "before_num",
                    "value": "7"
                },
                {
                    "type": "select",
                    "name": "unit_type",
                    "selectFirst": true,
                    "options": [
                        {
                            "label": "日",
                            "value": "day"
                        },
                        {
                            "label": "月",
                            "value": "month"
                        },
                        {
                            "label": "年",
                            "value": "year"
                        }
                    ]
                },
                {
                    "type": "submit",
                    "level": "primary",
                    "icon": "fa fa-search",
                    "label": "查询"
                }
            ]
        },
        {
            "type": "grid",
            "columns": [
                {
                    "body": [
                        {
                            "type": "chart",
                            "name": "chart_request",
                            "api": {
                                "url": "/backend/llm-usage/chart-request",
                                "method": "get",
                                "data": {
                                    "before_num": "$before_num",
                                    "unit_type": "$unit_type"
                                }
                            }
                        }
                    ]
                },
                {
                    "body": [
                        {
                            "type": "chart",
                            "name": "chart_token",
                            "api": {
                                "url": "/backend/llm-usage/chart-token",
                                "method": "get",
                                "data": {
                                    "before_num": "$before_num",
                                    "unit_type": "$unit_type"
                                }
                            }
                        }
                    ]
                }
            ]
        },
        {
            "type": "grid",
            "columns": [
                {
                    "body": [
                        {
                            "type": "chart",
                            "name": "chart_money",
                            "api": {
                                "url": "/backend/llm-usage/chart-money",
                                "method": "get",
                                "data": {
                                    "before_num": "$before_num",
                                    "unit_type": "$unit_type"
                                }
                            }
                        }
                    ]
                },
                {
                    "body": [
                    ]
                }
            ]
        }
    ]
}